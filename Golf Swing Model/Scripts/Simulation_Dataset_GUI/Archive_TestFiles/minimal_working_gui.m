function minimal_working_gui()
    % Minimal working GUI that gradually adds complexity to isolate the crash
    fprintf('Creating minimal working GUI...\n');
    
    try
        % Step 1: Basic figure
        fprintf('Step 1: Creating figure...\n');
        fig = figure('Name', 'Minimal GUI Test', ...
                     'Position', [50, 50, 1400, 900], ...
                     'MenuBar', 'none', ...
                     'ToolBar', 'none', ...
                     'Resize', 'on', ...
                     'Color', [0.96, 0.96, 0.98], ...
                     'NumberTitle', 'off');
        
        % Step 2: Basic handles
        fprintf('Step 2: Creating handles...\n');
        handles = struct();
        handles.should_stop = false;
        handles.trial_table_data = [];
        
        % Step 3: Basic layout (just like the working debug version)
        fprintf('Step 3: Creating basic layout...\n');
        
        % Title panel
        title_panel = uipanel('Parent', fig, ...
                             'Title', '', ...
                             'Position', [20, 830, 1360, 60], ...
                             'BackgroundColor', [0.2, 0.4, 0.8], ...
                             'BorderType', 'none');
        
        uicontrol('Parent', title_panel, ...
                  'Style', 'text', ...
                  'String', 'Minimal Golf Swing Data Generator', ...
                  'Position', [20, 20, 800, 30], ...
                  'FontSize', 18, ...
                  'FontWeight', 'bold', ...
                  'ForegroundColor', 'white', ...
                  'BackgroundColor', [0.2, 0.4, 0.8], ...
                  'HorizontalAlignment', 'left');
        
        % Main content area
        main_panel = uipanel('Parent', fig, ...
                            'Position', [20, 50, 1360, 770], ...
                            'BackgroundColor', [0.96, 0.96, 0.98]);
        
        % Create left and right columns 
        left_column = uipanel('Parent', main_panel, ...
                             'Position', [10, 10, 670, 750], ...
                             'BackgroundColor', [0.96, 0.96, 0.98]);
        
        right_column = uipanel('Parent', main_panel, ...
                              'Position', [690, 10, 670, 750], ...
                              'BackgroundColor', [0.96, 0.96, 0.98]);
        
        fprintf('Step 4: Adding simple test components...\n');
        
        % Add one simple panel with basic controls (like Trial Settings)
        test_panel = uipanel('Parent', left_column, ...
                           'Title', 'Test Panel', ...
                           'Position', [10, 570, 650, 170], ...
                           'BackgroundColor', [0.97, 0.97, 0.97]);
        
        % Simple text and edit control
        uicontrol('Parent', test_panel, ...
                  'Style', 'text', ...
                  'String', 'Test Input:', ...
                  'Position', [10, 130, 150, 20], ...
                  'HorizontalAlignment', 'left');
        
        uicontrol('Parent', test_panel, ...
                  'Style', 'edit', ...
                  'String', '10', ...
                  'Position', [170, 130, 80, 20]);
        
        fprintf('Step 5: Setting guidata...\n');
        guidata(fig, handles);
        
        fprintf('SUCCESS: Minimal GUI created successfully!\n');
        
    catch ME
        fprintf('ERROR in minimal GUI: %s\n', ME.message);
        fprintf('Stack trace:\n');
        for i = 1:length(ME.stack)
            fprintf('  %s (line %d)\n', ME.stack(i).name, ME.stack(i).line);
        end
    end
end 